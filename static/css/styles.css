/* ===== Global Layout ===== */
:root {
  --tileColor: #5a3b33;
  --matColor: #111;
}
body {
  margin: 0;
  background: #111;
  color: #fff;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
}

/* ===== Top Control Bar (Title Left, Controls Right) ===== */
.controls {
  padding: 12px 16px;
  background: #222;
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: space-between;  /* LEFT / RIGHT LOCK */
  border-bottom: 1px solid #444;
}

/* ===== Site Title (Left) ===== */
#siteTitle {
  font-size: 18px;
  font-weight: 700;
  letter-spacing: 0.04em;
  white-space: nowrap;
}

/* ===== Control Group (Right) ===== */
#gridControls {
  display: flex;
  align-items: center;
  gap: 20px;
}

#gridControls label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  cursor: pointer;
  white-space: nowrap;
}

label {
  font-size: 14px;
}

/* ===== The scrollable area that contains the tile wall ===== */
.gallery-wall-wrapper {
  width: 100%;
  max-width: 100%;
  overflow-x: auto;         /* Horizontal scroll enabled */
  overflow-y: visible;
  border-top: 1px solid #333;
  background: #000;
}

/* ===== The actual wall of tiles (absolute layout) ===== */
.gallery-wall {
  position: relative;
  margin: 0 auto;   /* ← centers the entire grid */
}

/* ===== Tiles ===== */
.tile {
  position: absolute;
  background: var(--tileColor);
  box-sizing: border-box;
  border: 1px solid rgba(255, 255, 255, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  color: #fff;
  cursor: pointer !important;
  overflow: hidden;           /* Prevent artwork from spilling outside tile */
}

.tiles-no-outline .tile {
  border: none !important;
}

/* ===== Artwork inside each tile ===== */
.tile img,
.tile-art {
  width: 100%;
  height: 100%;
  object-fit: cover;          /* Fill tile, crop edges */
  object-position: center;
  display: block;
}

/* ===== Art frame (internal mat/padding + drop shadow) ===== */
.art-frame {
  width: 100%;
  height: 100%;
  padding: 6px;               /* internal margin between mat and image */
  box-sizing: border-box;     /* include padding in sizing so it fills tile */
  background: transparent;
  overflow: visible;          /* allow inner image shadow to render inside padding */
  display: block;
}

.art-frame img {
  width: 100%;
  height: 100%;
  object-fit: cover;          /* fill frame, crop if needed */
  object-position: center;    /* center contained artwork */
  box-shadow: 0 0 14px rgba(255,255,255,0.42), 0 0 32px rgba(255,255,255,0.22); /* backlight glow only */
  display: block;
}

/* Wrapper for artwork image so outline draws reliably over image */
.art-imgwrap {
  position: relative;
  width: 100%;
  height: 100%;
}

.art-imgwrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  position: relative;
  z-index: 1;
}

.art-imgwrap::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  border: 1px solid rgba(0,0,0,0.7);
}

/* Size-specific internal mat padding */
.tile.xs .art-frame { padding: 4px; }
.tile.s  .art-frame { padding: 6px; }
.tile.m  .art-frame { padding: 8px; }
.tile.lg .art-frame { padding: 10px; }
.tile.xlg .art-frame { padding: 14px; }

/* Defensive: hide any empty art-frame (no img) so empty tiles don't show mat/shadow */
.art-frame:empty {
  background: transparent;
  box-shadow: none;
}

/* Hide label when the tile has artwork assigned */
.tile[data-art-url] .tile-label {
  display: none;
}

/* ===== Label inside each tile ===== */
/* ===== Label inside each tile ===== */
.tile-label {
  position: absolute;
  bottom: 4px;
  left: 4px;
  padding: 2px 4px;
  background: rgba(0, 0, 0, 0.45);
  font-size: 10px;
  font-weight: bold;
  border-radius: 2px;
  pointer-events: none;
}

/* ===== Subtle Hover Effect ===== */
.tile:hover {
  filter: brightness(1.2);
  cursor: pointer;
}

/* =====================================================
   POPUP VIEWER — click tile → see full artwork
   ===================================================== */

.art-popup {
  position: fixed;
  inset: 0;
  display: none;              /* hidden by default */
  z-index: 2000;
  align-items: center;
  justify-content: center;
  padding: 24px;              /* breathing room from viewport edges */
  box-sizing: border-box;
}

.art-popup.visible {
  display: flex;              /* flex to center inner container */
}

.art-popup-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
}

/* Constrains the lightbox to a reasonable size inside the viewport */
.art-popup-inner {
  position: relative;
  display: flex;              /* center the image inside this box */
  align-items: center;
  justify-content: center;
  max-width: min(80vw, 1100px);
  max-height: min(80vh, 900px);
  pointer-events: none;       /* clicks pass through, img itself is clickable */
  box-sizing: border-box;
}

/* Image scales down to fit, but never overflows the inner box */
.art-popup-inner img {
  /* Limit the popup image height but keep its aspect ratio intact. */
  max-height: 700px;          /* increased vertical constraint per request */
  max-width: 100%;
  width: auto;
  height: auto;
  object-fit: contain;        /* preserve aspect ratio, no cropping */
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.9);
  border-radius: 4px;
  pointer-events: auto;       /* allow click-to-close on the image */
  cursor: zoom-out;
}

/* =====================================================
   LEGACY POPUP KILL SWITCH — hide any old modal/popups
   ===================================================== */

#tilePopup,
#tileModal,
.popup,
.modal,
.tile-popup,
.tile-modal {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}